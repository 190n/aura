name:        aura
version:     '1.4.0'
synopsis:    A secure package manager for Arch Linux and the AUR, written in Haskell.
description: aura is a package manager for Arch Linux written
             in Haskell. It connects to both the official Arch
             repostitories and to the AUR, allowing easy control
             of all packages on an Arch system.
             It allows /all/ pacman operations and provides /new/
             custom ones for dealing with AUR packages.
             This differs from some other AUR package managers.

category:    System
author:      Colin Woodbury
maintainer:  colin@fosskers.ca
homepage:    https://github.com/aurapm/aura
license:     GPL-3

extra-source-files:
  - doc/aura.8
  - doc/completions/bashcompletion.sh
  - doc/completions/_aura

ghc-options:
  - -fwarn-unused-imports
  - -fwarn-unused-binds
  - -fwarn-name-shadowing
  - -fwarn-unused-matches
  - -fwarn-incomplete-patterns
  - -fwarn-incomplete-uni-patterns
  - -fwarn-redundant-constraints

default-extensions:
  - NoImplicitPrelude

dependencies:
  - base >= 4.8 && < 4.12
  - base-prelude >= 1.2 && < 1.4
  - containers
  - http-client >= 0.5 && < 0.6
  - text >= 1.2 && < 1.3
  - shelly >= 1.7 && < 1.9
  - versions >= 3.4 && < 3.5

library:
  source-dirs: lib
  other-modules: []
  dependencies:
    - array >= 0.5 && < 0.6
    - async >= 2.1 && < 2.3
    - aur >= 6 && < 7
    - bytestring
    - filepath
    - http-types >= 0.9 && < 0.13
    - megaparsec >= 6.4 && < 6.6
    - mtl >= 2.2 && < 2.3
    - network-uri >= 2.6 && < 2.7
    - stm
    - system-filepath
    - time

tests:
  aura-test:
    main: Test.hs
    source-dirs: test
    other-modules: []
    ghc-options:
      - -threaded
      - -with-rtsopts=-N
    dependencies:
      - aura
      - tasty >= 0.11 && < 2.0
      - tasty-hunit >= 0.9 && < 0.11

executables:
  aura:
    source-dirs: exec
    main: aura.hs
    dependencies:
      - aura
      - optparse-applicative
      - http-client-tls >= 0.3 && < 0.4
      - pretty-simple >= 2.1 && < 2.2
    ghc-options:
      - -threaded
      - -O2
      - -with-rtsopts=-N
